<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
  </head>
  <body>
  
    <script>
      function respond() {
        var formData = document.getElementById("addLanguageForm");
        google.script.run.addLanguage(formData);
        google.script.host.close();
      }
      
    </script>
    
    <? var numberOfLanguages = getNumberOfLanguages();
    var categories = getCategories();
    var items = getItems();
    Logger.log(items);?>
    
    <!-- This form does not submit like a normal html form. The submit button is manually coded
    so that the form data can be handled within the apps script. -->
    <form id='addLanguageForm'>
    
      Name of language to be added:
      <input type='text' name='nameOfLanguage'><br><br>
      
      What items are available in this Language?<br>
      <font color=grey><i>You can change language availability later by editing the items individually.</i></font> <br>
      <? for (i=0; i<items.length; i++) {?>
        <input type='checkbox' name='items' value='<?=items[i]?>'> <?=items[i]?> <br>
      <?}?> <br>
      
      <center><input type='button' onclick='respond()' value='Add Language'></center>
      
      </form>
   
  </body>
</html>